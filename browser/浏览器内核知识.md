# 浏览器内核知识

## 浏览器内核定义

`负责将表示页面的字符转变成可视化的图像的模块`就是浏览器内核

## 回到“从输入url到页面展示...”

我们

响应报文 = 第一行(HTTP/1.1 200 OK) + 响应头

空一行

响应体

## 远程主机响应

### HTTP协议

请求报文格式:

* 起始行: 方法 请求URL HTTP版本 换行符
* 首部
* 首部结束: 换行符
* 实体

响应报文格式:

* 起始行: HTTP版本 状态吗
* 首部
* 首部结束: 换行符
* 实体

### 网页内容的组成

* doctype：浏览器html信息
* viewport：视口

### 渲染要做的工作

## 浏览器内核架构

<!-- css 原生 @import 阻塞 -->

## 内核结构

## Chromium架构

基于webkit 内核就可以构建浏览器应用,了解著名的

几个问题:

1. 除去 webkit 内核完成的功能，浏览器的工作有哪些？
2. 进程是什么？
3. IPC是什么？（进程通信）
4. 线程是什么？
5. 线程同步是什么？

### 现代浏览器的工作

* 资源管理
* 多页面管理：也就是多个标签页的管理
* 插件和扩展：如 flash、油猴、chrome扩展程序
* 账户和同步
* 安全机制
* 多系统支持

### 进程和线程

* 进程：对CPU、主存、IO设备的抽象，操作系统对一个正在运行的程序的抽象
* 线程：组成进程的执行单元，运行在进程上下文中的逻辑流
* 进程通信：进程间传输数据（交换信息）
* 线程同步

### 多进程模型的优劣

1. 拥有资源隔离，某个渲染的进程崩溃不会导致主程序退出
2. 编程模型较为清晰
3. 进程间通信（IPC）开销较大

### 线程同步

* 同一个进程下的线程可以读写相同的共享数据
* 由于会操作共享数据，所以存在竞态
* 线程同步即为使

### Chromium的多进程架构

#### 多进程架构的目的所在